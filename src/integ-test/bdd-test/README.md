| TAG          | STEP                                                                                      | DESCRIZIONE                                                                                                                                                                                                                    |
|--------------|-------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| verify       | **Given** systems up                                                                      | controlla se i sistemi sono running                                                                                                                                                                                            |                                                          
| verify       | **Given** EC {Old/New} version                                                            | -                                                                                                                                                                                                                              |                                                
| soap, config | **Given** initial XML {action}   <br/>""" xml """                                         | salva nel contesto l'xml da usare per la soap {action}                                                                                                                                                                         |                            
| rest, config | **Given** initial JSON for {service} <br/> """ json """                                   | salva nel contesto il json da usare per la chiamata rest al {service}                                                                                                                                                          |                                      
| rest, config | **Given** rest-request {service} with param {param} equals to {value}                     | aggiunge un query param alla chiamata rest {service} (es: http://host/service?param=value)                                                                                                                                     |         
| soap, config | **Given** {tag} with {value} in {action}                                                  | modifica il {tag} del xml salvato nel contesto per la soap {action} con il valore {value}                                                                                                                                      |                                     
| soap, config | **Given** {attribute} set {value} for {tag} in {action}                                   | modifica l'{attribute} del {tag} del xml salvato nel contesto per la soap {action} con il valore {value}                                                                                                                       |                      
| util         | **Given** the {name} scenario executed successfully                                       | esegue lo scenario identificato dal nome univoco {name}                                                                                                                                                                        |                               
| mock         | **Given** {EC/PSP} replies to {destination} with the {action}  <br/>""" xml OPZIONALE """ | configura il mock di un servizio esterno per risponde con la response """ xml """. Se nessun xml Ã¨ passato viene utilizzato quello salvato precedentemente nel contesto con _Given initial XML {service} """ xml """_          |                   
| mock         | **Given** {EC/PSP} wait for {sec:number} seconds at {action}                              | configura il mock di un servizio esterno per aspettare {sec} secondi prima di rispondere                                                                                                                                       |
| soap, send   | **When** {sender} sends soap {soap_action} to {receiver}                                  | effettua una chiamata soap di tipo {action} con l'xml configurato nel contesto                                                                                                                                                 |                      
| rest, send   | **When** {sender} sends rest {service} to {receiver}<br/> """ json OPZIONALE """          | effettua una chiamata rest al {servizio} verso il {receiver} con il body e  i parametri configurati nel contesto                                                                                                               |                          
| soap, verify | **Then** check {tag} is {value} of {action} response                                      | verifica che il {tag} nella risposta della soap {action} abbia il valore {value}                                                                                                                                               |                          
| soap, verify | **Then** {tag} length is less than {value} of {action} response                           | verifica che il valore del {tag} nella risposta della soap {action} abbia una lunghezza minore di {value}                                                                                                                      |               
| soap, verify | **Then** {tag} exists of {action} response                                                | verifica che il {tag} sia presente nella risposta della soap {action}                                                                                                                                                          |                                    
| rest, verify | **Then** verify the HTTP status code of {service} response is {value:number}              | verifica lo status code della chiamata rest {service}                                                                                                                                                                          | 
| mock, verify | **Then** check {mock:EcPsp} receives {primitive} properly    <br/> """ <noticeNumber> """ | verifica che il {mock} abbia ricevuto la richiesta {primitive}. Passare il valore del noticeNumber di riferimento                                                                                                              |


# Placeholder
La sintassi `#nome-variabile#` permette di utilizzare i valori delle varibili globali
_Nota: idempotency_key e notice_number vengono generati ogni volta_

La sintassi `$nomeXml.nomeTag` permette di utilizzare il valore di un tag di un xml precedente
_Nota: nomePrimitiva+Response (es: verifyNoticeNumberResponse) permette di accedere alla response di una chiamata SOAP_